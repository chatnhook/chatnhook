{% from "admin/macros/navlink.html" import nav_link with context %}
{% from "admin/macros/topnav/messagesummary.html" import message_summary with context %}
{% from "admin/macros/topnav/tasksummary.html" import task_summary with context %}
{% from "admin/macros/topnav/alert.html" import alert with context %}

{% macro nav_bar(name) %}
    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand"
               href="{{ url_for('admin.index') }}">{{ admin_view.admin.name }}</a>
        </div>
        <!-- /.navbar-header -->

        <ul class="nav navbar-top-links navbar-right">
            <!-- /.dropdown -->
            <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                    <i class="fa fa-user fa-fw"></i> {{ admin_view.logged_in_user }} <i class="fa fa-caret-down"></i>
                </a>
                <ul class="dropdown-menu dropdown-user">
                    <li><a href="#"><i class="fa fa-user fa-fw"></i> User Profile</a>
                    </li>
                    <li class="divider"></li>
                    <li><a href="{{ url_for('admin.logout_view') }}"><i
                            class="fa fa-sign-out fa-fw"></i> Logout</a>
                    </li>
                </ul>
                <!-- /.dropdown-user -->
            </li>
            <!-- /.dropdown -->
        </ul>
        <!-- /.navbar-top-links -->

        <div class="navbar-default sidebar" role="navigation">
            <div class="sidebar-nav navbar-collapse">
                <ul class="nav" id="side-menu">
                    <li>
                        <a href="{{ url_for('admin.index') }}"><i class="fa fa-dashboard fa-fw"></i>
                            Dashboard</a>
                    </li>
                     <li>
                        <a href="#"><i class="fa fa-list-alt"></i> Logs<span
                                class="fa arrow"></span></a>
                        <ul class="nav nav-second-level collapse">
                            {{ nav_link(name="Inspector", url=url_for('admin.webhook_inspector'), active=name, icon='search') }}
                            {{ nav_link(name="Webhooks", url=url_for('admin.webhook_log'), active=name, icon='hubspot') }}
                        </ul>
                        <!-- /.nav-second-level -->
                    </li>
                    <li>
                        <a href="#"><i class="fa fa-gears fa-fw"></i> Configuration<span
                                class="fa arrow"></span></a>
                        <ul class="nav nav-second-level collapse">
                            {{ nav_link(name="Services", url=url_for('admin.service_config'), active=name) }}
                            {{ nav_link(name="Comms", url=url_for('admin.comm_config'), active=name) }}
                            {{ nav_link(name="Projects", url=url_for('admin.project_config_list'), active=name) }}
                            {{ nav_link(name="Users", url=url_for('admin.user_config'), active=name) }}
                        </ul>
                        <!-- /.nav-second-level -->
                    </li>
                </ul>
            </div>
            <!-- /.sidebar-collapse -->
        </div>
        <!-- /.navbar-static-side -->
    </nav>
{% endmacro %}